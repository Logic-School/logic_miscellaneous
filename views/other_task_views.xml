<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <record id="other_task_view_tree" model="ir.ui.view">
        <field name="name">other.task.tree</field>
        <field name="model">logic.task.other</field>
        <field name="arch" type="xml">
             <tree>
                <field name="name"/>
                <field name="date"/>
                <field name="task_creator"/>
                <field name="total_time" widget="float_time"/>
                <!-- <div class="oe_title">
                    <h1 class="d-flex">
                        <field name="name" placeholder="Task Name"/>
                    </h1>
                </div> -->
                
             </tree>
        </field>
    </record>

    <record id="other_task_view_form" model="ir.ui.view">
        <field name="name">other.task.form</field>
        <field name="model">logic.task.other</field>
        <field name="arch" type="xml">
             <form>
                <header>
                    <button name="action_in_progress" string="In Progress" help="Click here to set status to in progress" type="object" class="oe_highlight" attrs="{'invisible':[('state','not in',('draft','hold'))]}"/>
                    <button name="action_complete" string="Set as Completed" help="Click here to set status to complted" type="object" class="oe_highlight" attrs="{'invisible':[('state','not in',('in_progress','hold'))]}"/>
                    <button name="action_hold" string="On Hold" help="Click here to set status to on hold" type="object" class="oe_highlight" attrs="{'invisible':[('state','not in',('in_progress'))]}"/>

                    <field name="state" widget="statusbar" statusbar_visible="draft,in_progress,completed,hold"/>
                </header>
                <sheet>
                    <div class="oe_title">
                        <h1 class="d-flex">
                            <field name="name" placeholder="Task Name"/>
                        </h1>
                    </div>
                    <group>
                        <group>
                            <field name="date"/>
                            <field name="description"/>
                            <field name="manager" invisible="1"/>
                            <field name="task_creator"/>
                            <field name="total_time" widget="float_time"/>
                            <field name="is_creator_head" invisible="1"/>
                            <field name="head_rating" widget="priority" attrs="{'readonly':[('is_creator_head','=',False)], 'invisible':[('manager','=',False)]}"/>
                        </group>
                    </group>
                </sheet>
                <div class="oe_chatter">
                    <field name="message_follower_ids"/>
                    <field name="activity_ids"/>
                    <field name="message_ids" options="{'post_refresh': 'recipients'}"/>
                </div>
            </form>
        </field>
    </record>

    <record id="other_task_view_kanban" model="ir.ui.view">
        <field name="name">other.tasks.kanban</field>
        <field name="model">logic.task.other</field>
        <field name="type">kanban</field>
        <field name="priority" eval="100"/>
        <field name="arch" type="xml">
            <kanban class="o_kanban_mobile" default_group_by="state" default_order="date desc" archivable="false"
                sample="1" quick_create="0">
                <field name="state" default_order="state"/>
                <progressbar field="state"
                        colors='{"completed": "success", "in_progress": "warning", "cancelled": "secondary","hold":"info"}'/>
                <templates>
                    <t t-name="kanban-box">
                        <div t-attf-class="oe_kanban_content oe_kanban_global_click">
                            <div>
                                <strong class="o_kanban_record_title">
                                    <span>
                                        <field name="name"/>
                                    </span>
                                </strong>
                            </div>
                            <div class="o_kanban_record_body">
                                <span>
                                    <b>Date : </b><field name="date"/>
                                    <br/>
                                </span>
                                <span>
                                    <b>Time Taken: </b><field name="total_time" widget="float_time"/>
                                    <br/>
                                </span>
                            </div>

                            <div class="o_kanban_record_bottom" t-if="!selection_mode">

                                <div class="oe_kanban_bottom_right" t-if="!selection_mode">                        '
                                    <field name="task_creator" widget="many2one_avatar_user"/>
                                </div>
                            </div>
                        </div>
                    </t>
                </templates>
            </kanban>
        </field>
    </record>
    <record model="ir.actions.act_window" id="other_task_action">
        <field name="name">Miscellaneous Works</field>
        <field name="res_model">logic.task.other</field>
        <field name="view_mode">kanban,tree,form</field>
    </record>

    <menuitem id="menu_other_works"
    name="Miscellaneous Works"
    action="other_task_action"
    web_icon="logic_miscellaneous/static/description/icon.png"
    sequence="10"/>
</odoo>